<mobiletpl file="header" />

<section >

    <form id="login_form" class="form-signin" method="post" action="" onsubmit="return false;" >
        <!--<h2 class="form-signin-heading"></h2>-->
        <input type='password' name='prev' class="form-control" placeholder="原密码" required autofocus />
        <input type='password' name='pwd' class="form-control" placeholder="新密码" required autofocus />
        <input type='password' name='confirm' class="form-control" placeholder="确认密码" required autofocus />
        <div id="notice" class="alert alert-info" role="alert" ></div >
        <button id="submit" class="btn btn-lg btn-primary btn-block" >修 改</button >
    </form >
</section >
<style >

</style >
<script >
    $("#submit").click(doit);
    function doit() {
        var prev    = $("input[name='prev']").val();
        var pwd     = $("input[name='pwd']").val();
        var confirm = $("input[name='confirm']").val();

        $.post("{:U('Mobile/Account/pwd_post')}", {"prev": prev, "confirm": confirm, "pwd": pwd}, function (data) {
            if (data.error === '0') {
                notice(data.msg, "green");
            } else if (data.error === '1') {
                notice(data.msg, "red");
            }
        });
    }

    function notice(msg, color) {
        $("#notice").text(msg);
        $("#notice").css("color", color);
        $("#notice").show();
    }
</script >
<style >
    .form-signin {
        max-width: 330px;
        padding: 15px;
        margin: 0 auto;
        /*margin-top:50px;*/
    }

    .form-signin .form-signin-heading,
    .form-signin .checkbox {
        margin-bottom: 10px;
    }

    .form-signin .checkbox {
        font-weight: normal;
    }

    .form-signin .form-control {
        position: relative;
        height: auto;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        padding: 10px;
        font-size: 16px;
    }

    .form-signin .form-control:focus {
        z-index: 2;
    }

    .form-signin input[name="prev"] {
        margin-bottom: 10px;
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 0;
    }

    .form-signin input[name="pwd"] {
        margin-bottom: -1px;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 0;
    }

    .form-signin input[name="confirm"] {
        margin-bottom: 10px;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
    }

    #notice {
        display: none;

        /*    width:96%;
            margin:5px 2%;
            height:20px;
            float:left;
            font-size:12px;*/
    }
</style >

<mobiletpl file="footer" />